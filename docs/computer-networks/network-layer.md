# 网络层

## 网络层的位置和功能

![image-20230418155555180](./network-layer/image-20230418155555180.png)

网络层是处理端到端传输的最底层。

> "跳"的概念：
>
> 相邻的主机和路由器之间，相邻的路由器之间的一次传输就是一跳。
>
> 在一跳内的传输石油数据链路层来实现的。

一般来说，网络层具有以下这些功能：

1. 网络互联`Internetworking`。

   不同的网络可能具有不同的网络地址、实现技术，包格式。网络层需要处理这个不同并向上提供统一的接口。

2. 编址`Addressing`

   不同的网络主机之间需要统一的地址进行通信。

3. 路由`Routing`

   为了将包发送到目的的，需要决定这个数据包的下一跳，工作在第三层的路由器实现了这个功能。

4. 封包`Packetizing`

   将上一层需要传输的数据封装成统一的包。

5. 分片/分段`Fragmenting`

   不同的数据链路层网络支持的最大数据长度不同。

   网络层需要将上层传输过长的包切分成合乎长度的分片，并在传输结束之后再次拼接起来。

网络层向上层提供的服务：

- 同路由技术独立
- 传输层将对路由完全透明
- 传输层获得的地址是统一的，甚至是在局域网和广域网中

网络层提供了面向连接和无连接两种服务。

网络层使用分组交换提供了：

- 面向连接的网络：虚电路
- 无连接的网络：数据包

